<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>raspiOS: D:/Pool/eclipse-workspace_aarch64/newspace/raspiOS/include/memory/MemoryChunk.h 源文件</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">raspiOS
   &#160;<span id="projectnumber">0</span>
   </div>
   <div id="projectbrief">A baremetal OS for ARMv8/raspi3</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.8.14 -->
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',false,false,'search.php','搜索');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="../../dir_1d52781e224d924275d803a20aa4cb0e.html">memory</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">MemoryChunk.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d9/df6/_memory_chunk_8h.html">浏览该文件的文档.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * MemoryChunk.h</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *  Created on: Jan 31, 2018</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *      Author: 13774</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#ifndef INCLUDE_MEMORYCHUNK_H_</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#define INCLUDE_MEMORYCHUNK_H_</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d4/da4/def_8h.html">def.h</a>&gt;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d6/d93/generic__util_8h.html">generic_util.h</a>&gt;</span></div><div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="../../d4/d1d/class_memory_chunk.html">   27</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../d4/d1d/class_memory_chunk.html">MemoryChunk</a>{</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <span class="comment">// 下面的Bits和必须是64,ValidBits至少是3,因为一个MemoryChunk至少占用8个字节(2^3)</span></div><div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="../../d4/d1d/class_memory_chunk.html#a09d63a438550b02433c3554dfe2da449a5dd5a8dcbf886b56b730fa6c06af0c59">   30</a></span>&#160;    <span class="keyword">enum</span> { <a class="code" href="../../d4/d1d/class_memory_chunk.html#a09d63a438550b02433c3554dfe2da449a5dd5a8dcbf886b56b730fa6c06af0c59">ValidBits</a> = 6, <a class="code" href="../../d4/d1d/class_memory_chunk.html#a09d63a438550b02433c3554dfe2da449a5956d1ab4fd85404018dd94bb6b03386">IsEndBits</a>=1,<a class="code" href="../../d4/d1d/class_memory_chunk.html#a09d63a438550b02433c3554dfe2da449ad1e18dc3cbdce81ddcefe1d764980e19">AllocatedBits</a>=1,<a class="code" href="../../d4/d1d/class_memory_chunk.html#a09d63a438550b02433c3554dfe2da449ae689e58b57dad51c40471d805eb09145">SizeBits</a>=38,<a class="code" href="../../d4/d1d/class_memory_chunk.html#a09d63a438550b02433c3554dfe2da449a07f2b8ebbed46479a06ca05a5f6ff703">NextBaseBits</a>=18}; <span class="comment">// 共64bits,不连续的段至多允许256KB,size允许至多256GB</span></div><div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="../../d4/d1d/class_memory_chunk.html#a1607a0bc5c1f3f7cf761c11918a4b2aea20080514f5fbc0a3e5bf01cada2dbe1b">   31</a></span>&#160;    <span class="keyword">enum</span> { <a class="code" href="../../d4/d1d/class_memory_chunk.html#a1607a0bc5c1f3f7cf761c11918a4b2aea20080514f5fbc0a3e5bf01cada2dbe1b">MaxSinlgeMoveBytes</a> = (1 &lt;&lt; <a class="code" href="../../d4/d1d/class_memory_chunk.html#a09d63a438550b02433c3554dfe2da449a5dd5a8dcbf886b56b730fa6c06af0c59">ValidBits</a>) };</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <a class="code" href="../../d4/d1d/class_memory_chunk.html#aefec33edaebef2383fc1fa09be698433">MemoryChunk</a>(<span class="keywordtype">size_t</span> <a class="code" href="../../d4/d1d/class_memory_chunk.html#ad4c9ab2b12a3ad26c71d8f88c6eb17b3">size</a>,<span class="keywordtype">bool</span> <a class="code" href="../../d4/d1d/class_memory_chunk.html#a06725bf11148abf46713bfaaa3a654d5">allocated</a>,<span class="keywordtype">size_t</span> <a class="code" href="../../d4/d1d/class_memory_chunk.html#a63899be8c88c1faa437654923c8bc998">nextValidChunkOffset</a>,<span class="keywordtype">bool</span> <a class="code" href="../../d4/d1d/class_memory_chunk.html#a63766eb1d21768411ce33b4e9779006b">endMark</a>,<span class="keywordtype">size_t</span> <a class="code" href="../../d4/d1d/class_memory_chunk.html#a3590fd66a34adc94e9bd95cfd8cfd1fa">nextBaseFromEnd</a>);</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../d4/d1d/class_memory_chunk.html#ae4ec0a942bb577ece9a1ec0413ba829f">isAllocated</a>() <span class="keyword">const</span>;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d4/d1d/class_memory_chunk.html#ae1d0e05382c171f1720f5b3d0fc62eab">setAllocated</a>(<span class="keywordtype">bool</span> <a class="code" href="../../d4/d1d/class_memory_chunk.html#a06725bf11148abf46713bfaaa3a654d5">allocated</a>);</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../d4/d1d/class_memory_chunk.html#a77532081c761e7680970a9dcb0c29660">isEnd</a>() <span class="keyword">const</span>;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d4/d1d/class_memory_chunk.html#a01854d44de711dc83c31b64dc4b247f1">setEnd</a>(<span class="keywordtype">bool</span> end);</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="comment">// 对于offset chunk,返回下一个有效的chunk</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d4/d1d/class_memory_chunk.html">MemoryChunk</a>* <a class="code" href="../../d4/d1d/class_memory_chunk.html#a4103a2383e6c2c4273157e11d434f9d0">getNext</a>()const <a class="code" href="../../d4/d1d/class_memory_chunk.html#a5421588a01d16b99b50e87bf7cf75000">__attribute__</a>((deprecated));</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <a class="code" href="../../d4/d1d/class_memory_chunk.html">MemoryChunk</a>* <a class="code" href="../../d4/d1d/class_memory_chunk.html#a4103a2383e6c2c4273157e11d434f9d0">getNext</a>()<a class="code" href="../../d4/d1d/class_memory_chunk.html#a5421588a01d16b99b50e87bf7cf75000">__attribute__</a>((deprecated));</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    const <a class="code" href="../../d4/d1d/class_memory_chunk.html">MemoryChunk</a>* <a class="code" href="../../d4/d1d/class_memory_chunk.html#a4cdc4796b4fe962c6cbf386bf82c4f0a">next</a>()const;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <a class="code" href="../../d4/d1d/class_memory_chunk.html">MemoryChunk</a>*       <a class="code" href="../../d4/d1d/class_memory_chunk.html#a4cdc4796b4fe962c6cbf386bf82c4f0a">next</a>();</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    const <a class="code" href="../../d4/d1d/class_memory_chunk.html">MemoryChunk</a>* <a class="code" href="../../d4/d1d/class_memory_chunk.html#a1736b8411b5d300f91d852026d5b3d32">nextValid</a>()const;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <a class="code" href="../../d4/d1d/class_memory_chunk.html">MemoryChunk</a>*       <a class="code" href="../../d4/d1d/class_memory_chunk.html#a1736b8411b5d300f91d852026d5b3d32">nextValid</a>();</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    const <a class="code" href="../../d4/d1d/class_memory_chunk.html">MemoryChunk</a>* <a class="code" href="../../d4/d1d/class_memory_chunk.html#ab3b8549a3aef47a0bbcadce037225ed2">findAllocable</a>(<span class="keywordtype">size_t</span> n,<span class="keywordtype">size_t</span> alignment,<span class="keywordtype">size_t</span>&amp; moveOffset)const;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <a class="code" href="../../d4/d1d/class_memory_chunk.html">MemoryChunk</a>* <a class="code" href="../../d4/d1d/class_memory_chunk.html#ab3b8549a3aef47a0bbcadce037225ed2">findAllocable</a>(<span class="keywordtype">size_t</span> n,<span class="keywordtype">size_t</span> alignment,<span class="keywordtype">size_t</span> &amp;moveOffset);</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="../../d4/d1d/class_memory_chunk.html#aa112bc700f6a7ee7a97cb8821d55c701">getSize</a>() const;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d4/d1d/class_memory_chunk.html#ad6832d76e07e15e36efcf3571b5c62a8">setSize</a>(<span class="keywordtype">size_t</span> <a class="code" href="../../d4/d1d/class_memory_chunk.html#ad4c9ab2b12a3ad26c71d8f88c6eb17b3">size</a>);</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordtype">void</span>* <a class="code" href="../../d4/d1d/class_memory_chunk.html#a76229a1376912890e4c358fec643d0eb">getDataPtr</a>();</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    const <span class="keywordtype">void</span> * <a class="code" href="../../d4/d1d/class_memory_chunk.html#a76229a1376912890e4c358fec643d0eb">getDataPtr</a>()const;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordtype">void</span>* <a class="code" href="../../d4/d1d/class_memory_chunk.html#a71a93ac48c88dbaeceb31d1450ffc3c5">getDataEnd</a>();</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    const <span class="keywordtype">void</span> * <a class="code" href="../../d4/d1d/class_memory_chunk.html#a71a93ac48c88dbaeceb31d1450ffc3c5">getDataEnd</a>()const;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    uint64_t <a class="code" href="../../d4/d1d/class_memory_chunk.html#ab2cca8d381c3167dae31bb4fdc23affc">getNextBaseFromEnd</a>() const;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d4/d1d/class_memory_chunk.html#a1055c99bbafcb002f9e0bcb3700907ed">setNextBaseFromEnd</a>(uint64_t <a class="code" href="../../d4/d1d/class_memory_chunk.html#a3590fd66a34adc94e9bd95cfd8cfd1fa">nextBaseFromEnd</a>);</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    uint64_t <a class="code" href="../../d4/d1d/class_memory_chunk.html#ade085feee596267aef1ab33cc47b8a2d">getNextValidChunkOffset</a>() const;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d4/d1d/class_memory_chunk.html#a335be9ffa8cdbaabb7eedea66b2ac501">setNextValidChunkOffset</a>(uint64_t <a class="code" href="../../d4/d1d/class_memory_chunk.html#a63899be8c88c1faa437654923c8bc998">nextValidChunkOffset</a> );</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../d4/d1d/class_memory_chunk.html#a5cb5ae2b25f743044da9ac8121eb810e">endChunk</a>()const;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../d4/d1d/class_memory_chunk.html#a74cf7d7f70494fd4d08011b7129100f2">offsetChunk</a>()const;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../d4/d1d/class_memory_chunk.html#acc575b5a85e63afc79f121b6ba71fbb2">validChunk</a>()const;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="comment">// 对齐分配查找的一个要素是：如果某个块的getDataPtr已经对齐，就不需要额外的MemoryChunk</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="comment">// 如果没有对齐，因此该块必定是未分配的，因此移动MemoryChunk位置即可</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="comment">// 下面的函数实现MemoryChunk向前移动n个字节，原来的位置记录其移动的距离</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="comment">// 一个块可以多次移动，每次移动记录其距离即可。</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="comment">// 移动后，其大小改变,但是移动的距离只能小于其大小。一个有效MemoryChunk的大小至少是1</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="comment">// 返回移动后的MemoryChunk指针，如果 无效，则返回nullptr</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="comment">// 如果移动留下的空隙足以使用MemoryChunk来管理，则使用，否则使用offset记录</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <a class="code" href="../../d4/d1d/class_memory_chunk.html">MemoryChunk</a>* <a class="code" href="../../d4/d1d/class_memory_chunk.html#aa394b13e0280bfb9fa945d263fd7849f">moveAhead</a>(<span class="keywordtype">size_t</span> moveSize);</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="comment">// 能够分配一个按alignment的地址所需的move偏移，如果是SIZE_MAX意味着不能</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="../../d4/d1d/class_memory_chunk.html#a65732610d7da0e78c8f550333faefca9">moveOffsetOfAllocSuchAlignedSpace</a>(<span class="keywordtype">size_t</span> allocSize,<span class="keywordtype">size_t</span> alignment)const;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="comment">// 将当前Chunk的前splitSize部分分离出来</span></div><div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="../../d9/df6/_memory_chunk_8h.html#a2cb6bd33324db601d38ee60e9c011c35">   74</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../d4/d1d/class_memory_chunk.html#ae261e5561acf5a4e3c591b6b49e6a3bf">split</a>(<span class="keywordtype">size_t</span> splitSize);</div><div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="../../d9/df6/_memory_chunk_8h.html#acaa4b4395beb36d3ebdd49670a4355b9">   75</a></span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="../../d9/df6/_memory_chunk_8h.html#acd5fad81256e440dd3ca8721a6cb65cd">   76</a></span>&#160;    <span class="comment">// 将到下一个Chunk之间的所有未使用的空间合并起来,包括所有不能形成Chunk的，或者Chunk未分配的</span></div><div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="../../d9/df6/_memory_chunk_8h.html#af931a8871310b4dad23f0f0b0f623560">   77</a></span>&#160;    <span class="comment">// 该函数在一个Chunk由Allocated-&gt;NotAllocated时调用</span></div><div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="../../d9/df6/_memory_chunk_8h.html#a34d0960b08c18c94de0bca020787120f">   78</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d4/d1d/class_memory_chunk.html#aaa4324b78e79aaf3c4ec5062d0bddba4">mergeTrailingsUnallocated</a>();</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;private:</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <a class="code" href="../../d4/d1d/class_memory_chunk.html">MemoryChunk</a> *     <a class="code" href="../../d4/d1d/class_memory_chunk.html#aae8721905aad927f06d2a4860196d86f">advanceByBytes</a>(<span class="keywordtype">size_t</span> nbyte);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    const <a class="code" href="../../d4/d1d/class_memory_chunk.html">MemoryChunk</a> *<a class="code" href="../../d4/d1d/class_memory_chunk.html#aae8721905aad927f06d2a4860196d86f">advanceByBytes</a>(<span class="keywordtype">size_t</span> nbyte)const;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;private:</div><div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="../../d4/d1d/class_memory_chunk.html#a63899be8c88c1faa437654923c8bc998">   84</a></span>&#160;    uint64_t  <a class="code" href="../../d4/d1d/class_memory_chunk.html#a63899be8c88c1faa437654923c8bc998">nextValidChunkOffset</a>  :<a class="code" href="../../d4/d1d/class_memory_chunk.html#a09d63a438550b02433c3554dfe2da449a5dd5a8dcbf886b56b730fa6c06af0c59">ValidBits</a>; <span class="comment">// 在1个字节的范围内标记处下一个ChunkOffset，因为如果某个区域含有少于MemoryChunk大小的字节数目，它们不能存储完整的MemoryChunk，此时必须使第一个字节指向一个真正有效的MemoryChunk。 0值意味着该处就是一个有效的MemoryChunk. MemoryChunk的大小至多是2^ValidBits个字节</span></div><div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="../../d4/d1d/class_memory_chunk.html#a63766eb1d21768411ce33b4e9779006b">   85</a></span>&#160;    uint64_t  <a class="code" href="../../d4/d1d/class_memory_chunk.html#a63766eb1d21768411ce33b4e9779006b">endMark</a>               :<a class="code" href="../../d4/d1d/class_memory_chunk.html#a09d63a438550b02433c3554dfe2da449a5956d1ab4fd85404018dd94bb6b03386">IsEndBits</a>; <span class="comment">// end 0=false,1=true标记</span></div><div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="../../d4/d1d/class_memory_chunk.html#a06725bf11148abf46713bfaaa3a654d5">   86</a></span>&#160;    uint64_t  <a class="code" href="../../d4/d1d/class_memory_chunk.html#a06725bf11148abf46713bfaaa3a654d5">allocated</a>             :<a class="code" href="../../d4/d1d/class_memory_chunk.html#a09d63a438550b02433c3554dfe2da449ad1e18dc3cbdce81ddcefe1d764980e19">AllocatedBits</a>; <span class="comment">// 0=false, 1=true</span></div><div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="../../d4/d1d/class_memory_chunk.html#ad4c9ab2b12a3ad26c71d8f88c6eb17b3">   87</a></span>&#160;    uint64_t  <a class="code" href="../../d4/d1d/class_memory_chunk.html#ad4c9ab2b12a3ad26c71d8f88c6eb17b3">size</a>                  :<a class="code" href="../../d4/d1d/class_memory_chunk.html#a09d63a438550b02433c3554dfe2da449ae689e58b57dad51c40471d805eb09145">SizeBits</a>; <span class="comment">//</span></div><div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="../../d4/d1d/class_memory_chunk.html#a3590fd66a34adc94e9bd95cfd8cfd1fa">   88</a></span>&#160;    uint64_t  <a class="code" href="../../d4/d1d/class_memory_chunk.html#a3590fd66a34adc94e9bd95cfd8cfd1fa">nextBaseFromEnd</a>       :<a class="code" href="../../d4/d1d/class_memory_chunk.html#a09d63a438550b02433c3554dfe2da449a07f2b8ebbed46479a06ca05a5f6ff703">NextBaseBits</a>;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;}<a class="code" href="../../d4/d1d/class_memory_chunk.html#a5421588a01d16b99b50e87bf7cf75000">__attribute__</a>((packed));</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* INCLUDE_MEMORYCHUNK_H_ */</span><span class="preprocessor"></span></div><div class="ttc" id="class_memory_chunk_html_a65732610d7da0e78c8f550333faefca9"><div class="ttname"><a href="../../d4/d1d/class_memory_chunk.html#a65732610d7da0e78c8f550333faefca9">MemoryChunk::moveOffsetOfAllocSuchAlignedSpace</a></div><div class="ttdeci">size_t moveOffsetOfAllocSuchAlignedSpace(size_t allocSize, size_t alignment) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d1e/_memory_chunk_8cpp_source.html#l00196">MemoryChunk.cpp:196</a></div></div>
<div class="ttc" id="class_memory_chunk_html_ae261e5561acf5a4e3c591b6b49e6a3bf"><div class="ttname"><a href="../../d4/d1d/class_memory_chunk.html#ae261e5561acf5a4e3c591b6b49e6a3bf">MemoryChunk::split</a></div><div class="ttdeci">bool split(size_t splitSize)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d1e/_memory_chunk_8cpp_source.html#l00210">MemoryChunk.cpp:210</a></div></div>
<div class="ttc" id="class_memory_chunk_html_a3590fd66a34adc94e9bd95cfd8cfd1fa"><div class="ttname"><a href="../../d4/d1d/class_memory_chunk.html#a3590fd66a34adc94e9bd95cfd8cfd1fa">MemoryChunk::nextBaseFromEnd</a></div><div class="ttdeci">uint64_t nextBaseFromEnd</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/_memory_chunk_8h_source.html#l00088">MemoryChunk.h:88</a></div></div>
<div class="ttc" id="class_memory_chunk_html_a01854d44de711dc83c31b64dc4b247f1"><div class="ttname"><a href="../../d4/d1d/class_memory_chunk.html#a01854d44de711dc83c31b64dc4b247f1">MemoryChunk::setEnd</a></div><div class="ttdeci">void setEnd(bool end)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d1e/_memory_chunk_8cpp_source.html#l00027">MemoryChunk.cpp:27</a></div></div>
<div class="ttc" id="class_memory_chunk_html_aa394b13e0280bfb9fa945d263fd7849f"><div class="ttname"><a href="../../d4/d1d/class_memory_chunk.html#aa394b13e0280bfb9fa945d263fd7849f">MemoryChunk::moveAhead</a></div><div class="ttdeci">MemoryChunk * moveAhead(size_t moveSize)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d1e/_memory_chunk_8cpp_source.html#l00169">MemoryChunk.cpp:169</a></div></div>
<div class="ttc" id="def_8h_html"><div class="ttname"><a href="../../d4/da4/def_8h.html">def.h</a></div></div>
<div class="ttc" id="class_memory_chunk_html_ae4ec0a942bb577ece9a1ec0413ba829f"><div class="ttname"><a href="../../d4/d1d/class_memory_chunk.html#ae4ec0a942bb577ece9a1ec0413ba829f">MemoryChunk::isAllocated</a></div><div class="ttdeci">bool isAllocated() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d1e/_memory_chunk_8cpp_source.html#l00015">MemoryChunk.cpp:15</a></div></div>
<div class="ttc" id="class_memory_chunk_html_a63766eb1d21768411ce33b4e9779006b"><div class="ttname"><a href="../../d4/d1d/class_memory_chunk.html#a63766eb1d21768411ce33b4e9779006b">MemoryChunk::endMark</a></div><div class="ttdeci">uint64_t endMark</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/_memory_chunk_8h_source.html#l00085">MemoryChunk.h:85</a></div></div>
<div class="ttc" id="class_memory_chunk_html_a5421588a01d16b99b50e87bf7cf75000"><div class="ttname"><a href="../../d4/d1d/class_memory_chunk.html#a5421588a01d16b99b50e87bf7cf75000">MemoryChunk::__attribute__</a></div><div class="ttdeci">enum MemoryChunk::@29 __attribute__</div></div>
<div class="ttc" id="class_memory_chunk_html_a09d63a438550b02433c3554dfe2da449a07f2b8ebbed46479a06ca05a5f6ff703"><div class="ttname"><a href="../../d4/d1d/class_memory_chunk.html#a09d63a438550b02433c3554dfe2da449a07f2b8ebbed46479a06ca05a5f6ff703">MemoryChunk::NextBaseBits</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/_memory_chunk_8h_source.html#l00030">MemoryChunk.h:30</a></div></div>
<div class="ttc" id="class_memory_chunk_html_a71a93ac48c88dbaeceb31d1450ffc3c5"><div class="ttname"><a href="../../d4/d1d/class_memory_chunk.html#a71a93ac48c88dbaeceb31d1450ffc3c5">MemoryChunk::getDataEnd</a></div><div class="ttdeci">void * getDataEnd()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d1e/_memory_chunk_8cpp_source.html#l00124">MemoryChunk.cpp:124</a></div></div>
<div class="ttc" id="class_memory_chunk_html_a09d63a438550b02433c3554dfe2da449ad1e18dc3cbdce81ddcefe1d764980e19"><div class="ttname"><a href="../../d4/d1d/class_memory_chunk.html#a09d63a438550b02433c3554dfe2da449ad1e18dc3cbdce81ddcefe1d764980e19">MemoryChunk::AllocatedBits</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/_memory_chunk_8h_source.html#l00030">MemoryChunk.h:30</a></div></div>
<div class="ttc" id="class_memory_chunk_html_ad6832d76e07e15e36efcf3571b5c62a8"><div class="ttname"><a href="../../d4/d1d/class_memory_chunk.html#ad6832d76e07e15e36efcf3571b5c62a8">MemoryChunk::setSize</a></div><div class="ttdeci">void setSize(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d1e/_memory_chunk_8cpp_source.html#l00112">MemoryChunk.cpp:112</a></div></div>
<div class="ttc" id="class_memory_chunk_html"><div class="ttname"><a href="../../d4/d1d/class_memory_chunk.html">MemoryChunk</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/_memory_chunk_8h_source.html#l00027">MemoryChunk.h:27</a></div></div>
<div class="ttc" id="class_memory_chunk_html_aaa4324b78e79aaf3c4ec5062d0bddba4"><div class="ttname"><a href="../../d4/d1d/class_memory_chunk.html#aaa4324b78e79aaf3c4ec5062d0bddba4">MemoryChunk::mergeTrailingsUnallocated</a></div><div class="ttdeci">void mergeTrailingsUnallocated()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d1e/_memory_chunk_8cpp_source.html#l00228">MemoryChunk.cpp:228</a></div></div>
<div class="ttc" id="class_memory_chunk_html_aefec33edaebef2383fc1fa09be698433"><div class="ttname"><a href="../../d4/d1d/class_memory_chunk.html#aefec33edaebef2383fc1fa09be698433">MemoryChunk::MemoryChunk</a></div><div class="ttdeci">MemoryChunk(size_t size, bool allocated, size_t nextValidChunkOffset, bool endMark, size_t nextBaseFromEnd)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d1e/_memory_chunk_8cpp_source.html#l00013">MemoryChunk.cpp:13</a></div></div>
<div class="ttc" id="class_memory_chunk_html_a1055c99bbafcb002f9e0bcb3700907ed"><div class="ttname"><a href="../../d4/d1d/class_memory_chunk.html#a1055c99bbafcb002f9e0bcb3700907ed">MemoryChunk::setNextBaseFromEnd</a></div><div class="ttdeci">void setNextBaseFromEnd(uint64_t nextBaseFromEnd)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d1e/_memory_chunk_8cpp_source.html#l00142">MemoryChunk.cpp:142</a></div></div>
<div class="ttc" id="class_memory_chunk_html_a09d63a438550b02433c3554dfe2da449ae689e58b57dad51c40471d805eb09145"><div class="ttname"><a href="../../d4/d1d/class_memory_chunk.html#a09d63a438550b02433c3554dfe2da449ae689e58b57dad51c40471d805eb09145">MemoryChunk::SizeBits</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/_memory_chunk_8h_source.html#l00030">MemoryChunk.h:30</a></div></div>
<div class="ttc" id="class_memory_chunk_html_a1607a0bc5c1f3f7cf761c11918a4b2aea20080514f5fbc0a3e5bf01cada2dbe1b"><div class="ttname"><a href="../../d4/d1d/class_memory_chunk.html#a1607a0bc5c1f3f7cf761c11918a4b2aea20080514f5fbc0a3e5bf01cada2dbe1b">MemoryChunk::MaxSinlgeMoveBytes</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/_memory_chunk_8h_source.html#l00031">MemoryChunk.h:31</a></div></div>
<div class="ttc" id="class_memory_chunk_html_ab2cca8d381c3167dae31bb4fdc23affc"><div class="ttname"><a href="../../d4/d1d/class_memory_chunk.html#ab2cca8d381c3167dae31bb4fdc23affc">MemoryChunk::getNextBaseFromEnd</a></div><div class="ttdeci">uint64_t getNextBaseFromEnd() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d1e/_memory_chunk_8cpp_source.html#l00138">MemoryChunk.cpp:138</a></div></div>
<div class="ttc" id="class_memory_chunk_html_a09d63a438550b02433c3554dfe2da449a5dd5a8dcbf886b56b730fa6c06af0c59"><div class="ttname"><a href="../../d4/d1d/class_memory_chunk.html#a09d63a438550b02433c3554dfe2da449a5dd5a8dcbf886b56b730fa6c06af0c59">MemoryChunk::ValidBits</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/_memory_chunk_8h_source.html#l00030">MemoryChunk.h:30</a></div></div>
<div class="ttc" id="class_memory_chunk_html_ad4c9ab2b12a3ad26c71d8f88c6eb17b3"><div class="ttname"><a href="../../d4/d1d/class_memory_chunk.html#ad4c9ab2b12a3ad26c71d8f88c6eb17b3">MemoryChunk::size</a></div><div class="ttdeci">uint64_t size</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/_memory_chunk_8h_source.html#l00087">MemoryChunk.h:87</a></div></div>
<div class="ttc" id="class_memory_chunk_html_a4103a2383e6c2c4273157e11d434f9d0"><div class="ttname"><a href="../../d4/d1d/class_memory_chunk.html#a4103a2383e6c2c4273157e11d434f9d0">MemoryChunk::getNext</a></div><div class="ttdeci">const MemoryChunk * getNext() const __attribute__((deprecated))</div></div>
<div class="ttc" id="class_memory_chunk_html_ab3b8549a3aef47a0bbcadce037225ed2"><div class="ttname"><a href="../../d4/d1d/class_memory_chunk.html#ab3b8549a3aef47a0bbcadce037225ed2">MemoryChunk::findAllocable</a></div><div class="ttdeci">const MemoryChunk * findAllocable(size_t n, size_t alignment, size_t &amp;moveOffset) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d1e/_memory_chunk_8cpp_source.html#l00087">MemoryChunk.cpp:87</a></div></div>
<div class="ttc" id="class_memory_chunk_html_a06725bf11148abf46713bfaaa3a654d5"><div class="ttname"><a href="../../d4/d1d/class_memory_chunk.html#a06725bf11148abf46713bfaaa3a654d5">MemoryChunk::allocated</a></div><div class="ttdeci">uint64_t allocated</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/_memory_chunk_8h_source.html#l00086">MemoryChunk.h:86</a></div></div>
<div class="ttc" id="class_memory_chunk_html_a1736b8411b5d300f91d852026d5b3d32"><div class="ttname"><a href="../../d4/d1d/class_memory_chunk.html#a1736b8411b5d300f91d852026d5b3d32">MemoryChunk::nextValid</a></div><div class="ttdeci">const MemoryChunk * nextValid() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d1e/_memory_chunk_8cpp_source.html#l00070">MemoryChunk.cpp:70</a></div></div>
<div class="ttc" id="class_memory_chunk_html_ae1d0e05382c171f1720f5b3d0fc62eab"><div class="ttname"><a href="../../d4/d1d/class_memory_chunk.html#ae1d0e05382c171f1720f5b3d0fc62eab">MemoryChunk::setAllocated</a></div><div class="ttdeci">void setAllocated(bool allocated)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d1e/_memory_chunk_8cpp_source.html#l00019">MemoryChunk.cpp:19</a></div></div>
<div class="ttc" id="class_memory_chunk_html_acc575b5a85e63afc79f121b6ba71fbb2"><div class="ttname"><a href="../../d4/d1d/class_memory_chunk.html#acc575b5a85e63afc79f121b6ba71fbb2">MemoryChunk::validChunk</a></div><div class="ttdeci">bool validChunk() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d1e/_memory_chunk_8cpp_source.html#l00164">MemoryChunk.cpp:164</a></div></div>
<div class="ttc" id="class_memory_chunk_html_aae8721905aad927f06d2a4860196d86f"><div class="ttname"><a href="../../d4/d1d/class_memory_chunk.html#aae8721905aad927f06d2a4860196d86f">MemoryChunk::advanceByBytes</a></div><div class="ttdeci">MemoryChunk * advanceByBytes(size_t nbyte)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d1e/_memory_chunk_8cpp_source.html#l00256">MemoryChunk.cpp:256</a></div></div>
<div class="ttc" id="class_memory_chunk_html_a4cdc4796b4fe962c6cbf386bf82c4f0a"><div class="ttname"><a href="../../d4/d1d/class_memory_chunk.html#a4cdc4796b4fe962c6cbf386bf82c4f0a">MemoryChunk::next</a></div><div class="ttdeci">const MemoryChunk * next() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d1e/_memory_chunk_8cpp_source.html#l00057">MemoryChunk.cpp:57</a></div></div>
<div class="ttc" id="class_memory_chunk_html_a77532081c761e7680970a9dcb0c29660"><div class="ttname"><a href="../../d4/d1d/class_memory_chunk.html#a77532081c761e7680970a9dcb0c29660">MemoryChunk::isEnd</a></div><div class="ttdeci">bool isEnd() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d1e/_memory_chunk_8cpp_source.html#l00023">MemoryChunk.cpp:23</a></div></div>
<div class="ttc" id="class_memory_chunk_html_a335be9ffa8cdbaabb7eedea66b2ac501"><div class="ttname"><a href="../../d4/d1d/class_memory_chunk.html#a335be9ffa8cdbaabb7eedea66b2ac501">MemoryChunk::setNextValidChunkOffset</a></div><div class="ttdeci">void setNextValidChunkOffset(uint64_t nextValidChunkOffset)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d1e/_memory_chunk_8cpp_source.html#l00151">MemoryChunk.cpp:151</a></div></div>
<div class="ttc" id="class_memory_chunk_html_a5cb5ae2b25f743044da9ac8121eb810e"><div class="ttname"><a href="../../d4/d1d/class_memory_chunk.html#a5cb5ae2b25f743044da9ac8121eb810e">MemoryChunk::endChunk</a></div><div class="ttdeci">bool endChunk() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d1e/_memory_chunk_8cpp_source.html#l00156">MemoryChunk.cpp:156</a></div></div>
<div class="ttc" id="generic__util_8h_html"><div class="ttname"><a href="../../d6/d93/generic__util_8h.html">generic_util.h</a></div></div>
<div class="ttc" id="class_memory_chunk_html_a63899be8c88c1faa437654923c8bc998"><div class="ttname"><a href="../../d4/d1d/class_memory_chunk.html#a63899be8c88c1faa437654923c8bc998">MemoryChunk::nextValidChunkOffset</a></div><div class="ttdeci">uint64_t nextValidChunkOffset</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/_memory_chunk_8h_source.html#l00084">MemoryChunk.h:84</a></div></div>
<div class="ttc" id="class_memory_chunk_html_ade085feee596267aef1ab33cc47b8a2d"><div class="ttname"><a href="../../d4/d1d/class_memory_chunk.html#ade085feee596267aef1ab33cc47b8a2d">MemoryChunk::getNextValidChunkOffset</a></div><div class="ttdeci">uint64_t getNextValidChunkOffset() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d1e/_memory_chunk_8cpp_source.html#l00147">MemoryChunk.cpp:147</a></div></div>
<div class="ttc" id="class_memory_chunk_html_a76229a1376912890e4c358fec643d0eb"><div class="ttname"><a href="../../d4/d1d/class_memory_chunk.html#a76229a1376912890e4c358fec643d0eb">MemoryChunk::getDataPtr</a></div><div class="ttdeci">void * getDataPtr()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d1e/_memory_chunk_8cpp_source.html#l00116">MemoryChunk.cpp:116</a></div></div>
<div class="ttc" id="class_memory_chunk_html_a09d63a438550b02433c3554dfe2da449a5956d1ab4fd85404018dd94bb6b03386"><div class="ttname"><a href="../../d4/d1d/class_memory_chunk.html#a09d63a438550b02433c3554dfe2da449a5956d1ab4fd85404018dd94bb6b03386">MemoryChunk::IsEndBits</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/_memory_chunk_8h_source.html#l00030">MemoryChunk.h:30</a></div></div>
<div class="ttc" id="class_memory_chunk_html_aa112bc700f6a7ee7a97cb8821d55c701"><div class="ttname"><a href="../../d4/d1d/class_memory_chunk.html#aa112bc700f6a7ee7a97cb8821d55c701">MemoryChunk::getSize</a></div><div class="ttdeci">size_t getSize() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d1e/_memory_chunk_8cpp_source.html#l00107">MemoryChunk.cpp:107</a></div></div>
<div class="ttc" id="class_memory_chunk_html_a74cf7d7f70494fd4d08011b7129100f2"><div class="ttname"><a href="../../d4/d1d/class_memory_chunk.html#a74cf7d7f70494fd4d08011b7129100f2">MemoryChunk::offsetChunk</a></div><div class="ttdeci">bool offsetChunk() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d1e/_memory_chunk_8cpp_source.html#l00160">MemoryChunk.cpp:160</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
生成于 2018年 三月 25日 星期日 20:30:31 , 为 raspiOS使用  &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
